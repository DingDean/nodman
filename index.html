<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Box</title>
        <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script> 
    </head>
    <body>
        A body
        <div>
            <button type="button" onClick="start('TestServer')">Start</button>
            <button type="button" onClick="kill('TestServer')">Close</button>
            <button type="button" onClick="showLog('TestServer')">Show Log</button>
            <button type="button" onClick="closeLog('TestServer')">Close Log</button>
            <div id="TestServerLog">
            </div>
        </div>
        <div id="log"> 
            <button type="button" onClick="start('TServer')">Start</button>
            <button type="button" onClick="kill('TServer')">Close</button>
            <button type="button" onClick="showLog('TServer')">Show Log</button>
            <button type="button" onClick="closeLog('TServer')">Close Log</button>
            <div id="TServerLog">
            </div>
        </div>
    </body>
    <script>
        var socket = io.connect('http://192.168.88.80:4500');  

        socket.on('logInfo', function (msg) {
            (function () {
                var data = JSON.parse(msg);
                var lonDiv = document.getElementById(`${data.server}Log`);
                lonDiv.innerHTML += "<div>" + msg + "</div>";
            })();
        });

        function start (server) 
        {
            socket.emit('start',server ? server : "main");
            console.log('start' + server);
        }
        function kill (server) 
        {
            socket.emit('close', server ? server : "main");
            console.log('close' + server);
        }
        function showLog (server) 
        {
            socket.emit('show log', server ? server : "main");
            console.log('show log' + server);
        }
        function closeLog (server)
        {
            console.log('close log' + server);
            socket.emit('close log', server ? server : "main");
        }
    </script>
</html>
